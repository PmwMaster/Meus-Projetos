<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CombFlix - Alugue Seu Filme</title>

    <!-- CSS ORGANIZADO -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <header class="header">
        <div class="container">
            <h1>CombFlix</h1>
            <p>Alugue filmes com 1 clique</p>

            <!-- CONFIGURAÇÕES ICONE -->
            <button id="settingsIcon" class="settings-icon" aria-label="Configurações">
                ⚙️
            </button>
        </div>
    </header>

    <main class="container">

        <!-- BUSCA -->
        <div class="search-box">
            <label for="searchInput" class="sr-only">Buscar Filme</label>
            <input type="text" id="searchInput" placeholder="Buscar filme..." autocomplete="off">
        </div>

        <!-- FILTROS -->
        <div class="filters">
            <p><strong>Filtrar por gênero:</strong></p>
            <div class="genre-buttons">
                <button class="genre-btn active" data-genre="todos">Todos</button>
                <button class="genre-btn" data-genre="ação">Ação</button>
                <button class="genre-btn" data-genre="ficção científica">Ficção Científica</button>
                <button class="genre-btn" data-genre="drama">Drama</button>
                <button class="genre-btn" data-genre="suspense">Suspense</button>
                <button class="genre-btn" data-genre="animação">Animação</button>
                <button class="genre-btn" data-genre="aventura">Aventura</button>
                <button class="genre-btn" data-genre="crime">Crime</button>
            </div>
        </div>

        <!-- CATÁLOGO -->
        <section id="movies" class="movies-grid">
            <!-- Os filmes serão carregados dinamicamente via API TMDB -->
        </section>

        <div id="noResults" class="no-results">Nenhum filme encontrado</div>
    </main>

    <!-- MODAL -->
    <div id="movieModal" class="modal">
        <div class="modal-content">

            <span class="close">×</span>

            <img id="modalImage" class="modal-img" alt="Poster do Filme">

            <h2 id="modalTitle"></h2>
            <p id="modalDesc"></p>
            <p id="modalPrice" class="price"></p>

            <!-- Botão de Alugar -->
            <button id="rentNow" class="btn-rent">Alugar Agora</button>

            <!-- Avaliação Média -->
            <div id="averageRating" class="average-rating">
                <div class="stars-display"></div>
                <span class="rating-text"></span>
            </div>

            <!-- Formulário de Avaliação -->
            <div id="ratingForm" class="rating-form">
                <h3>Avaliar este filme</h3>
                <div class="stars-input" id="starsInput">
                    <span class="star" data-rating="1">★</span>
                    <span class="star" data-rating="2">★</span>
                    <span class="star" data-rating="3">★</span>
                    <span class="star" data-rating="4">★</span>
                    <span class="star" data-rating="5">★</span>
                </div>
                <textarea id="ratingComment" placeholder="Deixe seu comentário (opcional)" rows="3"></textarea>
                <button id="submitRating" class="btn-submit-rating">Enviar Avaliação</button>
            </div>

            <!-- Lista de Avaliações -->
            <div id="ratingsList" class="ratings-list">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                    <h3>Avaliações</h3>
                    <button id="viewAllReviews" class="btn-view-all" style="background: linear-gradient(90deg, rgba(139,92,246,0.2), rgba(167,139,250,0.2)); border: 1px solid #8b5cf6; padding: 6px 12px; border-radius: 6px; color: #8b5cf6; cursor: pointer; font-size: 13px; font-weight: 600; transition: all .2s;">Ver todas</button>
                </div>
                <div id="ratingsContainer"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/darkmode.js"></script>
    <script src="js/ratings.js"></script>
    <script src="js/app.js"></script>

    <!-- MODAL DE CONFIGURAÇÕES -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeSettings">×</span>
            <h2>Configurações</h2>

            <div class="setting-item">
                <p>Modo Escuro/Claro</p>
                <div class="theme-toggle">
                    <input type="checkbox" id="themeSwitch">
                    <label for="themeSwitch" class="toggle-label">
                        <span class="sun"></span>
                        <span class="moon"></span>
                        <span class="ball"></span>
                    </label>
                </div>
            </div>
            
            <p class="small-text"></p>
        </div>
    </div>
</body>
</html>
